<template>
  <div>
    <button id="backButton" style="display:none;" @click="goBack">â† è¿”å›ä¸Šä¸€æ­¥</button>
    <div class="container">
      <h1>ä¸è¦å†é—®åƒå•¥</h1>
      
      <div id="step1" class="step" :class="{ 'step-animation': activeStep === 1 }">
        <h2>STEP 1. é€‰æ‹©ç”¨é¤æ—¶æ®µ</h2>
        <button @click="selectMeal('æ—©é¤')">ğŸŒ… æ—©é¤</button>
        <button @click="selectMeal('ä¸­åˆ')">â˜€ï¸ åˆé¤</button>
        <button @click="selectMeal('æ™šä¸Š')">ğŸŒ™ æ™šé¤</button>
        <button @click="selectMeal('å¤œå®µ')">ğŸŒƒ å¤œå®µ</button>
      </div>

      <div id="step2" class="step" v-show="activeStep === 2">
        <h2>STEP 2. é€‰æ‹©æƒ³åƒç±»å‹</h2>
        <div id="foodButtons" class="button-group"></div>
      </div>

      <div id="step3" class="step" v-show="activeStep === 3">
        <h2>STEP 3. æ¨èä¼˜è´¨åº—é“º</h2>
        <div id="shopList"></div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      activeStep: 1,
      selectedMeal: null,
      selectedType: null,
      foodData: {
        æ—©é¤: {
          èƒ¡è¾£æ±¤: ['æ˜Ÿæ²³è‘±èŠ±é¥¼èƒ¡è¾£æ±¤', 'é“ºå®‰è¡—å»ºå®èƒ¡è¾£æ±¤', 'ä¸œæ¹–æ—©å¸‚èƒ¡è¾£æ±¤'],
          æ°´ç…åŒ…: ['è€é’±å®¶æ°´ç…åŒ…', 'ç¦¹éƒ½å°åˆšé”…è´´'],
          è‘±èŠ±é¥¼: ['é—»å–œè‘±èŠ±é¥¼é¦èŠ±é¦†', 'é»„æ²³æ—©å¸‚'],
          è±†è…è„‘æ²¹æ¡: ['æ˜æ”¶æºå¯¹é¢', 'è¥¿èŠ±å›­å¯¹é¢', 'æ—©å¸‚'],
          é¥¼å­å¤¹: ['éšä¾¿è·¯è¾¹å§æ²¡å¾—æ¨è'],
          åŒ…å­: ['çªçœ¼åŒ…', 'é“ºå®‰è¡—å°ç¬¼åŒ…', 'ç‹è€äºŒåŒ…å­', 'å…¶ä»–ä¸çŸ¥é“äº†'],
          ä¸åƒ: ['æ˜¯ä¸æ˜¯èµ·ä¸æ¥ï¼Ÿ']
        },
        ä¸­åˆ: {
          å¤§ç›˜é¸¡: ['è›‹è›‹å®¶è€äº”ç‚’é¸¡', 'æ˜Ÿæ²³æ‘‡æ»šç‚’é¸¡', 'è…¾é¾™å¤§ç›˜é¸¡æ€»åº—', 'éšä¾¿å°±è¿‘ä¸€å®¶é¸¡åº—'],
          é¢æ¡: ['å­˜æ‰', 'éš†å…´ç¾', 'é…±é¦™é¢é¦†', 'è£¤å¸¦é¢', 'å…°å·æ‹‰é¢', 'å¹³é™†æ²¹æ³¼é¢', 'ä¸­é“¶è·¯å°ç‹é±¼åŠ é¢', 'é¾™å‡¤æ‰‹æ“€é¢', 'éšä¾¿å°±è¿‘ä¸€å®¶ç‚’é¢'],
          ç¾Šè‚‰æ³¡: ['ç‹å‰‘ç¾Šè‚‰æ³¡', 'é¢ç¥¥é˜æ°´ç›†ç¾Šè‚‰', 'ä¸œéƒ­èƒ–å­ç¾Šæ±¤', 'åŒ—ç›¸ç¾Šè‚‰èƒ¡åœ', 'éšä¾¿å°±è¿‘ä¸€å®¶ç¾Šæ±¤'],
          ç«é”…å¹²é”…é“œé”…: ['æ¸…æ°´é˜', 'ä¸€å°Šé»„ç‰›', 'è¾£é¸­å¤´', 'ç»›å·é“œç«é”…', 'è®ºæ–¤çš„æ¸…æ°´æ¶®', 'ç‹å©†å¤§è™¾'],
          é±¼: ['ä»»è€å¸ˆ', 'äºŒå³°é±¼é¦†'],
          ç±³é¥­ç‚’èœ: ['è±ªå¾·æ¹˜èœ', 'æ¨å®¶é™„è¿‘æ¹˜èœ', 'å†‰å¸ˆå·èœ', 'ä¹ä¹ä¹ç”˜ç¾', 'é˜¿å®å·èœ', 'è¿ä¸­åé—¨ç›–é¥­', 'æ¡å±±è¡—èœ€ç«çˆ†æ±Ÿæ¹–èœ', 'å—å±±æ¹˜', '0359å®¶å¸¸èœ', 'å“ˆå°”æ»¨ç²¥å±‹'],
          è‡ªåŠ©: ['æ½®æ±•ç‰›è‚‰è‡ªåŠ©', 'æå§‘å©†ç‰›è‚‰ç«é”…', 'æ·±èˆª', 'å¯¿å–œçƒ§', 'ä¹ç”°å®¶', 'æ¯”æ ¼'],
          éº»è¾£çƒ«ç±³çº¿: ['éšä¾¿å°±è¿‘å§'],
          é“é”…ç‚–: ['åŸç‹åº„é‡Œ', 'å°±è¿‘ä¸€å®¶'],
          æ±‰å ¡æŠ«è¨: ['ä½ ä»¬ä¸åƒè¿™ä¸ª']
        },
        æ™šä¸Š: {
          é“é”…ç‚–: ['åŸç‹åº„é‡Œ', 'å°±è¿‘ä¸€å®¶'],
          æ¶®é”…: ['æ¸…æ°´é˜', 'è®ºæ–¤çš„æ¸…æ°´æ¶®', 'æå§‘å©†ç‰›è‚‰ç«é”…', 'æ‘¸é”™é—¨'],
          çƒ§çƒ¤: ['è€ç‹', 'çƒ¤å¤§ä¾ ', 'å–œæ´‹æ´‹', 'æ»¡å ‚çº¢', 'ä¸œç››ç¾Šèå­çƒ¤ç¾Šè…¿'],
          è‡ªåŠ©: ['åŒä¸­åˆçš„'],
          å°åƒ: ['å¾¡æ²å›­', 'ç¦¹éƒ½å°åƒ', 'å„ç§é¸­è´§è›‹è›‹æœ€çˆ±']
        },
        å¤œå®µ: {
          å–é…’: ['èŠ±ä½ åˆ«ä¹±ç‚¹'],
          æ´—æ¾¡: ['æ¨ä½ åˆ«ä¹±ç‚¹'],
          å”±æ­Œ: ['é’±å“¥ä½ åˆ«ä¹±ç‚¹']
        }
      }
    }
  },
  methods: {
    selectMeal(mealType) {
      this.selectedMeal = mealType
      this.activeStep = 2
    },
    selectType(foodType) {
      this.selectedType = foodType
      this.activeStep = 3
    },
    goBack() {
      this.activeStep = Math.max(1, this.activeStep - 1)
      if (this.activeStep === 1) this.selectedMeal = null
    }
  }
}
</script>

<style>
/* åŸºç¡€æ ·å¼ */
:root {
  --gradient-start: #FF9A9E;
  --gradient-end: #FAD0C4;
  --primary-color: #FF6B6B;
  --secondary-color: #4ECDC4;
  --background-color: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
  --card-bg: rgba(255, 255, 255, 0.95);
  --text-color: #2D3436;
  --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  --radius: 12px;
}

/* ç°ä»£è§†è§‰æ ·å¼ */
.container {
  background: var(--background-color);
  min-height: 100vh;
  padding: 2rem;
}

button {
  background: var(--card-bg);
  border: 2px solid var(--primary-color);
  border-radius: var(--radius);
  padding: 1rem 2rem;
  margin: 0.8rem;
  box-shadow: var(--shadow);
  transition: all 0.3s ease;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(255, 107, 107, 0.2);
}

.step {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 2rem;
  margin: 2rem auto;
  max-width: 800px;
  box-shadow: var(--shadow);
}

/* å“åº”å¼å¸ƒå±€è°ƒæ•´ */
@media (max-width: 768px) {
  .container {
    padding: 1rem;
  }
  h1 {
    font-size: 1.8rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
  }
  button {
    width: 100%;
    margin: 0.5rem 0;
    padding: 0.8rem;
  }
  .step {
    padding: 1.5rem;
    margin: 1rem 0;
  }
}

/* æ­¥éª¤åˆ‡æ¢åŠ¨ç”» */
.step-animation {
  animation: slideIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

button {
  position: relative;
  overflow: hidden;
}

button:active::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  padding-top: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.3);
  transform: translate(-50%, -50%);
  animation: ripple 0.4s ease-out;
}

@keyframes ripple {
  from {
    width: 0;
    padding-top: 0;
  }
  to {
    width: 150%;
    padding-top: 150%;
  }
}
</style>

@media (max-width: 400px) {
  button {
    margin: 0.3rem 0;
    padding: 0.6rem;
  }
  .step {
    padding: 1rem;
  }
}

#shopList {
  display: grid;
  gap: 1rem;
}

.shop-item {
  padding: 1.2rem;
  background: var(--card-bg);
  border-left: 4px solid var(--primary-color);
  transition: transform 0.3s ease;
}

.shop-item:hover {
  transform: translateX(8px);
}
</style>
